<!--
  ~  Copyright (c) 2013 The Finnish Board of Education - Opetushallitus
  ~
  ~  This program is free software: Licensed under the EUPL, Version 1.1 or - as
  ~  soon as they will be approved by the European Commission - subsequent versions
  ~  of the EUPL (the "Licence");
  ~
  ~  You may not use this work except in compliance with the Licence.
  ~  You may obtain a copy of the Licence at: http://ec.europa.eu/idabc/eupl
  ~
  ~  This program is distributed in the hope that it will be useful,
  ~  but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  ~  European Union Public Licence for more details.
  -->

<div ng-show="!wrongState()">
  <h1 class="oppiaine-nimi" esitys-sivu-otsikko="valittuOppiaine.oppiaine.nimi">
    <span kaanna="valittuOppiaine.nimi"></span>
  </h1>

  <div class="clearfix"></div>

  <pre>{{valittuOppiaine | json}}</pre>

  <div ng-if="valittuOppiaine.pakollinenKurssiKuvaus">
    <h2 ng-bind="'pakolliset-kurssit' | kaanna"></h2>
    <div ng-hide="!valittuOppiaine.pakollinenKurssiKuvaus || !hasContent(valittuOppiaine.pakollinenKurssiKuvaus)">
      <termisto-tekstikentta tekstikentta="valittuOppiaine.pakollinenKurssiKuvaus  || '-'"></termisto-tekstikentta>
    </div>
  </div>

  <div ng-if="filterKurssit(kurssit,0).length" class="kurssi-list">
    <h2 ng-bind-html="'pakolliset-kurssit' | kaanna | unsafe"></h2>
    <div ng-repeat="kurssi in filterKurssit(kurssit, 0)">
      <span class="colorlabel pakollinen"></span>
      <span class="spacer-small"></span>
      <a ui-sref="root.lukio.kurssi({kurssiId: '{{kurssi.id}}'})" class="kurssi-soveltava oppiaine-kurssi-list" ng-bind="kurssi.nimi | kaanna"></a>
    </div>
  </div>

  <div ng-if="valittuOppiaine.syventavaKurssiKuvaus">
    <h2 kaanna="'syventavat-kurssit'"></h2>
    <div ng-hide="!valittuOppiaine.pakollinenKurssiKuvaus || !hasContent(valittuOppiaine.pakollinenKurssiKuvaus)">
      <termisto-tekstikentta tekstikentta="valittuOppiaine.syventavaKurssiKuvaus  || '-'"></termisto-tekstikentta>
    </div>
  </div>

  <div ng-if="filterKurssit(kurssit,1).length" class="kurssi-list">
    <h2 ng-bind-html="'syventavat-kurssit' | kaanna | unsafe"></h2>
    <div ng-repeat="kurssi in filterKurssit(kurssit, 1)">
      <span class="colorlabel syventava"></span>
      <span class="spacer-small"></span>
      <a ui-sref="root.lukio.kurssi({kurssiId: '{{kurssi.id}}'})" class="kurssi-soveltava oppiaine-kurssi-list" ng-bind="kurssi.nimi | kaanna"></a>
    </div>
  </div>

  <div ng-if="valittuOppiaine.soveltavaKurssiKuvaus">
    <h2 kaanna="'soveltavat-kurssit'"></h2>
    <div ng-hide="!valittuOppiaine.soveltavaKurssiKuvaus || !hasContent(valittuOppiaine.pakollinenKurssiKuvaus)">
      <termisto-tekstikentta tekstikentta="valittuOppiaine.soveltavaKurssiKuvaus  || '-'"></termisto-tekstikentta>
    </div>
  </div>

  <div ng-if="filterKurssit(kurssit,2).length" class="kurssi-list">
    <h2 ng-bind-html="'soveltavat-kurssit' | kaanna | unsafe"></h2>
    <div ng-repeat="kurssi in filterKurssit(kurssit, 2)">
      <span class="colorlabel soveltava"></span>
      <span class="spacer-small"></span>
      <a ui-sref="root.lukio.kurssi({kurssiId: '{{kurssi.id}}'})" class="kurssi-soveltava oppiaine-kurssi-list" ng-bind="kurssi.nimi | kaanna"></a>
    </div>

  </div>

  <div ng-if="valittuOppiaine.tavoitteet">
    <h2 ng-bind-html="valittuOppiaine.tavoitteet.otsikko | kaanna | unsafe"></h2>
    <div ng-hide="!valittuOppiaine.tavoitteet || !hasContent(valittuOppiaine.tavoitteet)">
      <termisto-tekstikentta tekstikentta="valittuOppiaine.tavoitteet.teksti  || '-'"></termisto-tekstikentta>
    </div>
  </div>

  <div ng-if="valittuOppiaine.arviointi">
    <h2 ng-bind-html="valittuOppiaine.arviointi.otsikko | kaanna | unsafe"></h2>
    <div ng-hide="!valittuOppiaine.arviointi || !hasContent(valittuOppiaine.arviointi)">
      <termisto-tekstikentta tekstikentta="valittuOppiaine.arviointi.teksti  || '-'"></termisto-tekstikentta>
    </div>
  </div>
</div>
<div class="tavoitteet-aihekokonaisuudet" ui-view></div>
